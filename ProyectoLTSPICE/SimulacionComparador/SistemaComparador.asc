Version 4
SHEET 1 1716 680
WIRE 96 -1200 -384 -1200
WIRE 560 -1136 560 -1152
WIRE 624 -1136 560 -1136
WIRE 96 -1104 96 -1200
WIRE 96 -1056 96 -1104
WIRE 96 -1056 0 -1056
WIRE 208 -1056 96 -1056
WIRE -384 -1024 -384 -1200
WIRE -384 -1024 -480 -1024
WIRE 0 -976 0 -1056
WIRE 208 -976 208 -1056
WIRE -5872 -896 -6016 -896
WIRE -5728 -896 -5872 -896
WIRE -5584 -896 -5728 -896
WIRE -5440 -896 -5584 -896
WIRE -5296 -896 -5440 -896
WIRE -5168 -896 -5296 -896
WIRE -5040 -896 -5168 -896
WIRE -4896 -896 -5040 -896
WIRE -4752 -896 -4896 -896
WIRE -4608 -896 -4752 -896
WIRE -4464 -896 -4608 -896
WIRE -4352 -896 -4464 -896
WIRE -4208 -896 -4352 -896
WIRE -4064 -896 -4208 -896
WIRE -3920 -896 -4064 -896
WIRE -3776 -896 -3920 -896
WIRE -3632 -896 -3776 -896
WIRE -3504 -896 -3632 -896
WIRE -3376 -896 -3504 -896
WIRE -3232 -896 -3376 -896
WIRE -3088 -896 -3232 -896
WIRE -2944 -896 -3088 -896
WIRE -2800 -896 -2944 -896
WIRE -2656 -896 -2800 -896
WIRE -2512 -896 -2656 -896
WIRE -2368 -896 -2512 -896
WIRE -2224 -896 -2368 -896
WIRE -2080 -896 -2224 -896
WIRE -1952 -896 -2080 -896
WIRE -1824 -896 -1952 -896
WIRE -1680 -896 -1824 -896
WIRE -1536 -896 -1680 -896
WIRE -1392 -896 -1536 -896
WIRE -1248 -896 -1392 -896
WIRE -1104 -896 -1248 -896
WIRE -976 -896 -1104 -896
WIRE -832 -896 -976 -896
WIRE -688 -896 -832 -896
WIRE -544 -896 -688 -896
WIRE -416 -896 -544 -896
WIRE -288 -896 -416 -896
WIRE -208 -896 -288 -896
WIRE -48 -896 -208 -896
WIRE 0 -896 -48 -896
WIRE 96 -896 0 -896
WIRE -208 -864 -208 -896
WIRE -48 -864 -48 -896
WIRE 96 -864 96 -896
WIRE -6016 -848 -6016 -896
WIRE -5872 -848 -5872 -896
WIRE -5728 -848 -5728 -896
WIRE -5584 -848 -5584 -896
WIRE -5440 -848 -5440 -896
WIRE -5296 -848 -5296 -896
WIRE -5168 -848 -5168 -896
WIRE -5040 -848 -5040 -896
WIRE -4896 -848 -4896 -896
WIRE -4752 -848 -4752 -896
WIRE -4608 -848 -4608 -896
WIRE -4464 -848 -4464 -896
WIRE -4352 -848 -4352 -896
WIRE -4208 -848 -4208 -896
WIRE -4064 -848 -4064 -896
WIRE -3920 -848 -3920 -896
WIRE -3776 -848 -3776 -896
WIRE -3632 -848 -3632 -896
WIRE -3504 -848 -3504 -896
WIRE -3376 -848 -3376 -896
WIRE -3232 -848 -3232 -896
WIRE -3088 -848 -3088 -896
WIRE -2944 -848 -2944 -896
WIRE -2800 -848 -2800 -896
WIRE -2656 -848 -2656 -896
WIRE -2512 -848 -2512 -896
WIRE -2368 -848 -2368 -896
WIRE -2224 -848 -2224 -896
WIRE -2080 -848 -2080 -896
WIRE -1952 -848 -1952 -896
WIRE -1824 -848 -1824 -896
WIRE -1680 -848 -1680 -896
WIRE -1536 -848 -1536 -896
WIRE -1392 -848 -1392 -896
WIRE -1248 -848 -1248 -896
WIRE -1104 -848 -1104 -896
WIRE -976 -848 -976 -896
WIRE -832 -848 -832 -896
WIRE -688 -848 -688 -896
WIRE -544 -848 -544 -896
WIRE -416 -848 -416 -896
WIRE -288 -848 -288 -896
WIRE -96 -784 -160 -784
WIRE -5872 -752 -6016 -752
WIRE -5728 -752 -5872 -752
WIRE -5584 -752 -5728 -752
WIRE -5440 -752 -5584 -752
WIRE -5296 -752 -5440 -752
WIRE -5168 -752 -5296 -752
WIRE -5040 -752 -5168 -752
WIRE -4896 -752 -5040 -752
WIRE -4752 -752 -4896 -752
WIRE -4608 -752 -4752 -752
WIRE -4464 -752 -4608 -752
WIRE -4352 -752 -4464 -752
WIRE -4208 -752 -4352 -752
WIRE -4064 -752 -4208 -752
WIRE -3920 -752 -4064 -752
WIRE -3776 -752 -3920 -752
WIRE -3632 -752 -3776 -752
WIRE -3504 -752 -3632 -752
WIRE -3376 -752 -3504 -752
WIRE -3232 -752 -3376 -752
WIRE -3088 -752 -3232 -752
WIRE -2944 -752 -3088 -752
WIRE -2800 -752 -2944 -752
WIRE -2656 -752 -2800 -752
WIRE -2512 -752 -2656 -752
WIRE -2368 -752 -2512 -752
WIRE -2224 -752 -2368 -752
WIRE -2080 -752 -2224 -752
WIRE -1952 -752 -2080 -752
WIRE -1824 -752 -1952 -752
WIRE -1680 -752 -1824 -752
WIRE -1536 -752 -1680 -752
WIRE -1392 -752 -1536 -752
WIRE -1248 -752 -1392 -752
WIRE -1104 -752 -1248 -752
WIRE -976 -752 -1104 -752
WIRE -832 -752 -976 -752
WIRE -688 -752 -832 -752
WIRE -544 -752 -688 -752
WIRE -416 -752 -544 -752
WIRE -288 -752 -416 -752
WIRE -208 -752 -208 -768
WIRE -208 -752 -288 -752
WIRE -96 -752 -208 -752
WIRE -48 -752 -48 -768
WIRE -48 -752 -96 -752
WIRE 96 -752 96 -768
WIRE 96 -752 -48 -752
WIRE 208 -752 208 -896
WIRE 208 -752 96 -752
WIRE 800 -736 752 -736
WIRE -96 -720 -96 -752
WIRE 896 -720 864 -720
WIRE 960 -720 896 -720
WIRE 800 -704 752 -704
WIRE 960 -704 960 -720
WIRE 1008 -704 960 -704
WIRE 1200 -688 1072 -688
WIRE 1008 -672 960 -672
WIRE 1200 -672 1200 -688
WIRE -6064 -640 -6064 -768
WIRE -5920 -640 -5920 -768
WIRE -5920 -640 -6064 -640
WIRE -5776 -640 -5776 -768
WIRE -5776 -640 -5920 -640
WIRE -5632 -640 -5632 -768
WIRE -5632 -640 -5776 -640
WIRE -5488 -640 -5488 -768
WIRE -5488 -640 -5632 -640
WIRE -5344 -640 -5344 -768
WIRE -5344 -640 -5488 -640
WIRE -5216 -640 -5216 -768
WIRE -5216 -640 -5344 -640
WIRE -5088 -640 -5088 -768
WIRE -5088 -640 -5216 -640
WIRE -4944 -640 -4944 -768
WIRE -4944 -640 -5088 -640
WIRE -4800 -640 -4800 -768
WIRE -4800 -640 -4944 -640
WIRE -4656 -640 -4656 -768
WIRE -4656 -640 -4800 -640
WIRE -4512 -640 -4512 -768
WIRE -4512 -640 -4656 -640
WIRE -4400 -640 -4400 -768
WIRE -4400 -640 -4512 -640
WIRE -4256 -640 -4256 -768
WIRE -4256 -640 -4400 -640
WIRE -4112 -640 -4112 -768
WIRE -4112 -640 -4256 -640
WIRE -3968 -640 -3968 -768
WIRE -3968 -640 -4112 -640
WIRE -3824 -640 -3824 -768
WIRE -3824 -640 -3968 -640
WIRE -3680 -640 -3680 -768
WIRE -3680 -640 -3824 -640
WIRE -3552 -640 -3552 -768
WIRE -3552 -640 -3680 -640
WIRE -3424 -640 -3424 -768
WIRE -3424 -640 -3552 -640
WIRE -3280 -640 -3280 -768
WIRE -3280 -640 -3424 -640
WIRE -3136 -640 -3136 -768
WIRE -3136 -640 -3280 -640
WIRE -2992 -640 -2992 -768
WIRE -2992 -640 -3136 -640
WIRE -2848 -640 -2848 -768
WIRE -2848 -640 -2992 -640
WIRE -2704 -640 -2704 -768
WIRE -2704 -640 -2848 -640
WIRE -2560 -640 -2560 -768
WIRE -2560 -640 -2704 -640
WIRE -2416 -640 -2416 -768
WIRE -2416 -640 -2560 -640
WIRE -2272 -640 -2272 -768
WIRE -2272 -640 -2416 -640
WIRE -2128 -640 -2128 -768
WIRE -2128 -640 -2272 -640
WIRE -2000 -640 -2000 -768
WIRE -2000 -640 -2128 -640
WIRE -1872 -640 -1872 -768
WIRE -1872 -640 -2000 -640
WIRE -1728 -640 -1728 -768
WIRE -1728 -640 -1872 -640
WIRE -1584 -640 -1584 -768
WIRE -1584 -640 -1728 -640
WIRE -1440 -640 -1440 -768
WIRE -1440 -640 -1584 -640
WIRE -1296 -640 -1296 -768
WIRE -1296 -640 -1440 -640
WIRE -1152 -640 -1152 -768
WIRE -1152 -640 -1296 -640
WIRE -1024 -640 -1024 -768
WIRE -1024 -640 -1152 -640
WIRE -880 -640 -880 -768
WIRE -880 -640 -1024 -640
WIRE -736 -640 -736 -768
WIRE -736 -640 -880 -640
WIRE -592 -640 -592 -768
WIRE -592 -640 -736 -640
WIRE -464 -640 -464 -768
WIRE -464 -640 -592 -640
WIRE -336 -640 -336 -768
WIRE -336 -640 -464 -640
WIRE -160 -640 -160 -784
WIRE -160 -640 -336 -640
WIRE 0 -640 0 -656
WIRE 0 -640 -160 -640
WIRE 144 -640 144 -784
WIRE 144 -640 0 -640
WIRE 352 -640 144 -640
WIRE 368 -640 352 -640
WIRE 752 -576 752 -704
WIRE 768 -576 752 -576
WIRE 896 -576 896 -720
WIRE 896 -576 848 -576
WIRE 960 -576 960 -672
WIRE 992 -576 960 -576
WIRE 1200 -576 1200 -592
WIRE 1200 -576 1072 -576
WIRE 752 -560 752 -576
WIRE 960 -560 960 -576
WIRE -256 -528 -288 -528
WIRE -96 -512 -192 -512
WIRE -256 -496 -288 -496
WIRE 0 -480 0 -640
WIRE 16 -480 0 -480
WIRE 752 -480 672 -480
WIRE 960 -480 752 -480
WIRE 112 -464 80 -464
WIRE 352 -464 352 -640
WIRE 352 -464 304 -464
WIRE 368 -464 352 -464
WIRE 16 -448 -16 -448
WIRE 672 -448 672 -480
WIRE -96 -432 -96 -512
WIRE -16 -432 -16 -448
WIRE -16 -432 -96 -432
WIRE 112 -432 80 -432
WIRE -80 -288 -144 -288
WIRE 208 -272 208 -320
WIRE 208 -272 -16 -272
WIRE -400 -256 -432 -256
WIRE -80 -256 -112 -256
WIRE -144 -240 -144 -288
WIRE -144 -240 -336 -240
WIRE -400 -224 -432 -224
WIRE -432 -208 -432 -224
WIRE -112 -208 -112 -256
WIRE 352 -208 352 -464
WIRE 352 -208 -112 -208
FLAG 672 -448 0
FLAG 816 -688 V+
IOPIN 816 -688 BiDir
FLAG 1024 -656 V+
IOPIN 1024 -656 BiDir
FLAG 816 -752 V-
IOPIN 816 -752 BiDir
FLAG 1024 -720 V-
IOPIN 1024 -720 BiDir
FLAG 1200 -576 Vout
IOPIN 1200 -576 BiDir
FLAG 560 -1232 V+
IOPIN 560 -1232 Out
FLAG 560 -1056 V-
IOPIN 560 -1056 Out
FLAG 624 -1136 0
FLAG 848 -752 V+
IOPIN 848 -752 BiDir
FLAG 1056 -720 V+
IOPIN 1056 -720 BiDir
FLAG 96 -1104 Vt
IOPIN 96 -1104 BiDir
FLAG 752 -816 Vt
IOPIN 752 -816 BiDir
FLAG -96 -720 0
FLAG 80 -352 0
FLAG 1200 -688 Vref
IOPIN 1200 -688 BiDir
FLAG -288 -608 0
FLAG -432 -128 0
FLAG 368 -464 Vset
IOPIN 368 -464 BiDir
FLAG -368 -208 0
FLAG -224 -480 0
FLAG -96 -512 Vsuperior
IOPIN -96 -512 BiDir
FLAG -144 -288 Vinferior
IOPIN -144 -288 BiDir
FLAG 208 -272 Reset
IOPIN 208 -272 BiDir
FLAG -224 -544 V+
IOPIN -224 -544 BiDir
FLAG -368 -272 V+
IOPIN -368 -272 BiDir
FLAG 208 -624 0
FLAG -288 -496 Vref
IOPIN -288 -496 BiDir
FLAG -432 -256 Vref
IOPIN -432 -256 BiDir
FLAG -352 -208 0
FLAG -208 -480 0
FLAG -480 -944 0
SYMBOL OpAmps\\MAX4239 832 -736 M180
WINDOW 0 -18 132 Left 2
WINDOW 3 -54 105 Left 2
SYMATTR InstName U1
SYMBOL OpAmps\\MAX4239 1040 -704 M180
WINDOW 0 -34 137 Left 2
WINDOW 3 -63 107 Left 2
SYMATTR InstName U2
SYMBOL res 1088 -592 R90
WINDOW 0 78 53 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 9k
SYMBOL res 976 -464 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL res 864 -592 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 9k
SYMBOL res 768 -464 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL res 1216 -576 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R5
SYMATTR Value 50k
SYMBOL voltage 560 -1248 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 3
SYMBOL res 736 -832 R0
SYMATTR InstName R6
SYMATTR Value 270
SYMBOL voltage 560 -1152 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 3
SYMBOL res -16 -992 R0
SYMATTR InstName mA
SYMATTR Value 10m
SYMBOL res 192 -992 R0
SYMATTR InstName uA
SYMATTR Value 10
SYMBOL ZZZ\\LOGIC\\74HC\\74hc74 208 -544 R0
SYMATTR InstName U5
SYMATTR SpiceLine VCC=3  SPEED=1.0  TRIPDT=1e-9
SYMBOL voltage 80 -448 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 3 0 1n 1n 0.1m 0.2m)
SYMATTR InstName V4
SYMBOL voltage -288 -512 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value 2.99
SYMBOL voltage -432 -224 R0
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value 2.994m
SYMBOL ZZZ\\OpAmp\\TLV3501 -224 -576 R0
SYMATTR InstName U4
SYMBOL ZZZ\\OpAmp\\TLV3501 -368 -304 R0
SYMATTR InstName U3
SYMBOL nmos -96 -864 R0
SYMATTR InstName M1
SYMBOL nmos 144 -864 M0
SYMATTR InstName M2
SYMBOL nmos -160 -864 M0
SYMATTR InstName M3
SYMBOL ZZZ\\LOGIC\\DigitalLogic\\NAND_2 -48 -272 R0
SYMATTR InstName U7
SYMBOL current -480 -944 R180
WINDOW 0 24 80 Left 2
WINDOW 3 24 0 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I3
SYMATTR Value PULSE(0 500m 0 100m 1n 1m 20s)
SYMBOL voltage 208 -528 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 3
SYMBOL ZZZ\\LOGIC\\DigitalLogic\\OR_2 48 -464 R0
SYMATTR InstName U6
SYMBOL nmos -336 -848 R0
SYMATTR InstName M4
SYMBOL nmos -464 -848 R0
SYMATTR InstName M5
SYMBOL nmos -592 -848 R0
SYMATTR InstName M6
SYMBOL nmos -736 -848 R0
SYMATTR InstName M7
SYMBOL nmos -880 -848 R0
SYMATTR InstName M8
SYMBOL nmos -1024 -848 R0
SYMATTR InstName M9
SYMBOL nmos -1152 -848 R0
SYMATTR InstName M10
SYMBOL nmos -1296 -848 R0
SYMATTR InstName M11
SYMBOL nmos -1440 -848 R0
SYMATTR InstName M12
SYMBOL nmos -1584 -848 R0
SYMATTR InstName M13
SYMBOL nmos -1728 -848 R0
SYMATTR InstName M14
SYMBOL nmos -1872 -848 R0
SYMATTR InstName M15
SYMBOL nmos -2000 -848 R0
SYMATTR InstName M16
SYMBOL nmos -2128 -848 R0
SYMATTR InstName M17
SYMBOL nmos -2272 -848 R0
SYMATTR InstName M18
SYMBOL nmos -2416 -848 R0
SYMATTR InstName M19
SYMBOL nmos -2560 -848 R0
SYMATTR InstName M20
SYMBOL nmos -2704 -848 R0
SYMATTR InstName M21
SYMBOL nmos -2848 -848 R0
SYMATTR InstName M22
SYMBOL nmos -2992 -848 R0
SYMATTR InstName M23
SYMBOL nmos -3136 -848 R0
SYMATTR InstName M24
SYMBOL nmos -3280 -848 R0
SYMATTR InstName M25
SYMBOL nmos -3424 -848 R0
SYMATTR InstName M26
SYMBOL nmos -3552 -848 R0
SYMATTR InstName M27
SYMBOL nmos -3680 -848 R0
SYMATTR InstName M28
SYMBOL nmos -3824 -848 R0
SYMATTR InstName M29
SYMBOL nmos -3968 -848 R0
SYMATTR InstName M30
SYMBOL nmos -4112 -848 R0
SYMATTR InstName M31
SYMBOL nmos -4256 -848 R0
SYMATTR InstName M32
SYMBOL nmos -4400 -848 R0
SYMATTR InstName M33
SYMBOL nmos -4512 -848 R0
SYMATTR InstName M34
SYMBOL nmos -4656 -848 R0
SYMATTR InstName M35
SYMBOL nmos -4800 -848 R0
SYMATTR InstName M36
SYMBOL nmos -4944 -848 R0
SYMATTR InstName M37
SYMBOL nmos -5088 -848 R0
SYMATTR InstName M38
SYMBOL nmos -5216 -848 R0
SYMATTR InstName M39
SYMBOL nmos -5344 -848 R0
SYMATTR InstName M40
SYMBOL nmos -5488 -848 R0
SYMATTR InstName M41
SYMBOL nmos -5632 -848 R0
SYMATTR InstName M42
SYMBOL nmos -5776 -848 R0
SYMATTR InstName M43
SYMBOL nmos -5920 -848 R0
SYMATTR InstName M44
SYMBOL nmos -6064 -848 R0
SYMATTR InstName M45
TEXT -416 184 Left 2 !.param V=3.3 I=20m
TEXT -416 216 Left 2 !.param R={V/I}
TEXT -32 176 Left 2 !.model NMOS NMOS (Vto=1.2 Kp=500 Rd=0.1 Rs=0.05 Rg=1 Vds=40 Ron=0.001)
TEXT -408 0 Left 2 !.tran 100m
